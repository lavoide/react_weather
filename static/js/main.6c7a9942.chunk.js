(this.webpackJsonpweather2=this.webpackJsonpweather2||[]).push([[0],{43:function(e,t,n){e.exports=n(73)},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),l=n.n(c),i=n(11),o=n(3),u=n(9),s=n(10),m=n(13),p=n(12),h=n(26),d=n.n(h),f=n(40),b=n(41),E=n.n(b),y=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e){return function(t){y(function(e){return"https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&units=metric&APPID=").concat("1330c144ec87772649f4c873a0985196")}(e)).then((function(e){var n=e.list[0].weather[0],a="".concat(n.icon,".png");n.icon=a,t({type:"GET_WEATHER_DATA",payload:e})})).catch((function(e){alert("Please check the input."),console.log("External error: ".concat(e))}))}},v=function(e){return{type:"DELETE_WEATHER_DATA",payload:e}},j=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:null},e._changeHandler=function(t){e.setState({value:t.target.value})},e._fetch=function(t){t.preventDefault();var n=e.state.value;n?e.props.FetchAPIResponse(n):alert("Please fill the input.")},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("form",{className:"input-group",onSubmit:this._fetch},r.a.createElement("input",{className:"form-control",placeholder:"Enter a city...",onChange:this._changeHandler}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{type:"submit",className:"btn btn-secondary"},"Submit")))}}]),n}(r.a.Component),w=Object(i.b)(null,(function(e){return Object(o.b)({FetchAPIResponse:O},e)}))(j),g=n(17),C=n(27),k=n.n(C),_=n(22);var S=function(e){return r.a.createElement("div",null,r.a.createElement(_.Sparklines,{height:120,width:180,data:e.data},r.a.createElement(_.SparklinesLine,{color:e.color}),r.a.createElement(_.SparklinesReferenceLine,{type:"avg"})),r.a.createElement("div",null,"av - ",(t=e.data,k.a.round(k.a.sum(t)/t.length))," ",e.units));var t},A=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.location.pathname.slice(1),t=this.props.weather.filter((function(t){return t.city.name===e}))[0],n=t&&t.list.map((function(e){return e.main.temp})),a=t&&t.list.map((function(e){return e.main.pressure})),c=t&&t.list.map((function(e){return e.main.humidity}));return r.a.createElement("div",null,r.a.createElement("p",null,"Weekly Forecast"),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"City"),r.a.createElement("th",null,"Temperature (K)"),r.a.createElement("th",null,"Pressure (hPa)"),r.a.createElement("th",null,"Humidity (%)"))),r.a.createElement("tbody",null,r.a.createElement("tr",{key:t.city.name},r.a.createElement("td",null,t.city.name),r.a.createElement("td",null,r.a.createElement(S,{data:n.slice(0,7),color:"red",units:"C"})),r.a.createElement("td",null,r.a.createElement(S,{data:a.slice(0,7),color:"green",units:"hPa"})),r.a.createElement("td",null,r.a.createElement(S,{data:c.slice(0,7),color:"blue",units:"%"}))))),r.a.createElement("ul",null,r.a.createElement("li",null," Current temperature -  ",t.list[0].main.temp," C"),r.a.createElement("li",null,"Feels like ",t.list[0].main.feels_like," C"),r.a.createElement("li",null,"Current humidity - ",t.list[0].main.humidity," %"),r.a.createElement("li",null,"Current pressure - ",t.list[0].main.pressure," hPa")),r.a.createElement(g.b,{to:"/weather"},r.a.createElement("button",{className:"btn btn-secondary"},"Back")))}}]),n}(a.Component),N=Object(i.b)((function(e){return{weather:e.fetchConfig.weather,city:e.fetchConfig.name,conditions:e.fetchConfig.conditions}}))(A),T=(n(72),n(21)),D=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).delete=a.delete.bind(Object(T.a)(a)),a}return Object(s.a)(n,[{key:"delete",value:function(){if(window.confirm("Do you really want to delete this?"))return this.props.deleteWeather(this.props.city)}},{key:"refresh",value:function(){return this.props.fetchAPIResponse(this.props.city)}},{key:"render",value:function(){return r.a.createElement("div",{className:"editbuttons"},r.a.createElement("button",{className:"button",onClick:this.edit},"Refresh"),r.a.createElement("button",{className:"button",onClick:this.delete,title:"Delete"},"Delete"))}}]),n}(a.Component);var P=Object(i.b)((function(e){return{names:e.fetchConfig.name}}),(function(e){return Object(o.b)({deleteWeather:v,fetchAPIResponse:O},e)}))(D),R=n(2),I=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"weather-container"},this.props.conditions.map((function(e,t){return r.a.createElement("div",{className:"weather",key:e.name},r.a.createElement(g.b,{key:t,to:"/".concat(e.name)},r.a.createElement("h3",null,e.name),r.a.createElement("p",null,e.main.temp),r.a.createElement("p",null,e.weather[0].main),r.a.createElement("p",null,r.a.createElement("img",{src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon),alt:"Missing icon"}))),r.a.createElement(P,{city:e.name}))})))}}]),n}(a.Component),W=Object(R.g)(Object(i.b)((function(e){return{weather:e.fetchConfig.weather,city:e.fetchConfig.name,conditions:e.fetchConfig.conditions}}),(function(e){return Object(o.b)({deleteWeather:v},e)}))(I)),x=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(g.a,null,r.a.createElement(R.d,null,r.a.createElement(R.b,{exact:!0,path:"/"},r.a.createElement(R.a,{to:"/weather"})),r.a.createElement(R.b,{path:"/weather"},r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement(W,null))),r.a.createElement(R.b,{path:"/:name",component:N})))}}]),n}(a.Component),H=n(14),L=n(15),F={weather:[],conditions:[],name:[]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEATHER_DATA":t.payload.list[0].name=t.payload.city.name;var n=e.name.indexOf(t.payload.city.name);return e.name.includes(t.payload.city.name)?(e.weather.splice(n,1),e.conditions.splice(n,1),e.name.splice(n,1),Object(L.a)(Object(L.a)({},e),{},{weather:[].concat(Object(H.a)(e.weather),[t.payload]),name:[].concat(Object(H.a)(e.name),[t.payload.city.name]),conditions:[].concat(Object(H.a)(e.conditions),[t.payload.list[0]])})):Object(L.a)(Object(L.a)({},e),{},{weather:[].concat(Object(H.a)(e.weather),[t.payload]),name:[].concat(Object(H.a)(e.name),[t.payload.city.name]),conditions:[].concat(Object(H.a)(e.conditions),[t.payload.list[0]])});case"DELETE_WEATHER_DATA":var a=e.name.indexOf(t.payload);return e.weather.splice(a,1),e.conditions.splice(a,1),e.name.splice(a,1),Object(L.a)(Object(L.a)({},e),{},{weather:Object(H.a)(e.weather),conditions:Object(H.a)(e.conditions),name:Object(H.a)(e.name)});default:return e}},q=Object(o.c)({fetchConfig:J}),G=n(42),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,X=Object(o.e)(q,function(){if(null!==localStorage.getItem("applicationState"))return JSON.parse(localStorage.getItem("applicationState"))}(),M(Object(o.a)((function(e){var t=e.getState;return function(e){return function(n){var a=e(n);return localStorage.setItem("applicationState",JSON.stringify(t())),a}}}),G.a)));l.a.render(r.a.createElement(i.a,{store:X},r.a.createElement(x,null)),document.querySelector(".container"))}},[[43,1,2]]]);
//# sourceMappingURL=main.6c7a9942.chunk.js.map